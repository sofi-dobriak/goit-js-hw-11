{"version":3,"file":"add-practice.js","sources":["../src/js/cars/render-cars-markup.js","../src/js/cars/cars-API.js","../src/js/cars/logic-cars.js"],"sourcesContent":["export function carTemplate(car) {\n  const { id, image, brand, model, color } = car;\n  return `  <li class=\"car-container\" data-id=\"${id}\">\n                <img class=\"car-img\" src=\"${image}\" alt=\"${brand}\">\n                <p class=\"car-text-info\"><strong>ID:</strong>  ${id}</p>\n                <p class=\"car-text-info\"><strong>Brand:</strong>  ${brand}</p>\n                <p class=\"car-text-info\"><strong>Model:</strong> ${model}</p>\n                <p class=\"car-text-info\"><strong>Color:</strong> ${color}</p>\n            </li>`;\n}\n\nexport function carsTemplate(cars) {\n  return cars.map(carTemplate).join('');\n}\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'http://localhost:3000',\n});\n\nexport function getAllCars() {\n  return instance.get('/cars').then(res => res.data);\n}\n\nexport function getOneCar(id) {\n  return instance.get(`/cars/${id}`).then(res => res.data);\n}\n\nexport function createCar(car) {\n  return instance.post('/cars', car).then(res => res.data);\n}\n\nexport function updateCar(id, car) {\n  return instance.patch(`/cars/${id}`, car).then(res => res.data);\n}\n\nexport function resetCar(id, car) {\n  return instance.put(`/cars/${id}`, car).then(res => res.data);\n}\n\nexport function deleteCar(id) {\n  return instance.delete(`/cars/${id}`).then(res => res.data);\n}\n","import { carTemplate, carsTemplate } from './render-cars-markup.js';\nimport {\n  getAllCars,\n  getOneCar,\n  createCar,\n  updateCar,\n  resetCar,\n  deleteCar,\n} from './cars-API';\n\nconst refs = {\n  createForm: document.querySelector('.js-create-form'),\n  updateForm: document.querySelector('.js-update-form'),\n  resetForm: document.querySelector('.js-reset-form'),\n  deleteForm: document.querySelector('.js-delete-form'),\n  carsList: document.querySelector('.js-car-list-container'),\n};\n\nrefs.createForm.addEventListener('submit', handleCreateCar);\nrefs.updateForm.addEventListener('submit', handleUpdateCar);\nrefs.resetForm.addEventListener('submit', handleResetCar);\nrefs.deleteForm.addEventListener('submit', handleDeleteCar);\n\nfunction handleCreateCar(e) {\n  e.preventDefault();\n\n  const carData = {\n    image: e.target.elements.image.value.trim(),\n    brand: e.target.elements.brand.value.trim(),\n    model: e.target.elements.model.value.trim(),\n    color: e.target.elements.color.value.trim(),\n  };\n\n  createCar(carData).then(newCar => {\n    const markup = carTemplate(newCar);\n    refs.carsList.insertAdjacentHTML('afterbegin', markup);\n  });\n\n  e.target.reset();\n}\n\nfunction handleUpdateCar(e) {\n  e.preventDefault();\n\n  const formData = new FormData(e.target);\n  const carID = e.target.elements.id.value;\n  const carData = {};\n\n  for (const [key, value] of formData.entries()) {\n    if (!value.trim()) {\n      continue;\n    }\n\n    carData[key] = value;\n  }\n\n  updateCar(carID, carData).then(newCar => {\n    const markup = carTemplate(newCar);\n    const oldCar = document.querySelector(`[data-id=\"${carID}\"]`);\n\n    oldCar.insertAdjacentHTML('beforebegin', markup);\n    oldCar.remove();\n  });\n\n  e.target.reset();\n}\n\nfunction handleResetCar(e) {\n  e.preventDefault();\n\n  const formData = new FormData(e.target);\n  const carID = e.target.elements.id.value;\n  const carData = {};\n\n  for (const [key, value] of formData.entries()) {\n    carData[key] = value;\n  }\n\n  resetCar(carID, carData).then(newCar => {\n    const markup = carTemplate(newCar);\n    const oldCar = document.querySelector(`[data-id=\"${carID}\"]`);\n\n    oldCar.insertAdjacentHTML('beforebegin', markup);\n    oldCar.remove();\n  });\n\n  e.target.reset();\n}\n\nfunction handleDeleteCar(e) {\n  e.preventDefault();\n\n  const carID = e.target.elements.id.value.trim();\n\n  deleteCar(carID).then(() => {\n    const oldCar = document.querySelector(`[data-id=\"${carID}\"]`);\n    oldCar.remove();\n  });\n\n  e.target.reset();\n}\n\ngetAllCars().then(cars => {\n  const markup = carsTemplate(cars);\n  refs.carsList.innerHTML = markup;\n});\n"],"names":["carTemplate","car","id","image","brand","model","color","carsTemplate","cars","instance","axios","getAllCars","res","createCar","updateCar","resetCar","deleteCar","refs","handleCreateCar","handleUpdateCar","handleResetCar","handleDeleteCar","carData","newCar","markup","formData","carID","key","value","oldCar"],"mappings":"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"}